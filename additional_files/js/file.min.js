!function(t,e,a){"use strict";const r={pupil:"green",specialist:"cyan",expert:"blue","candidate master":"violet",master:"orange","international master":"orange",grandmaster:"red","international grandmaster":"red","legendary grandmaster":"legendary","ученик":"green","специалист":"cyan","эксперт":"blue","кандидат в мастера":"violet","мастер":"orange","международный мастер":"orange","гроссмейстер":"red","международный гроссмейстер":"red","легендарный гроссмейстер":"legendary"};let n,l={};function p(t){let a,r,l,p=this.id;titleT[tmpArr[p]]=e("title",t).text(),r=e("<h3 />").attr("id",tmpArr[p]).html(titleT[tmpArr[p]]+" [#"+tmpArr[p]+"]:"),l=e("<div />").html(e("pre",t).prop("outerHTML")).attr("data-id",p),a=n.slice(0,p).lastIndexOf(!0),e("#templates>div"+(~a?"[data-id="+a+"]":".cen")).after(l).after(r),n[p]=!0}t.setFileConfig=function(t,e){l[t]=e},t.parseRecords=function(t){let a,r,n,p=0,i=t.split("\n").map(t=>t.replace(/[\f\r\v]/g,"").split("|")).filter(t=>5===t.length);for(Rows=[],a=0;a<i.length;++a)r=i[a].concat((i.length-a).toString()),n=recordMatch(r,curLocation,l),n.length&&(Rows.push(e("<tr />").append(e("<td />").html(n[0])).append(e("<td />").html(n[1])).append(e("<td />").append(e('<a href="records/'+encodeURIComponent(r[0])+'.html" target="_blank">链接</a>'))).append(e("<td />").html(r[1])).append(e("<td />").html(r[2])).append(e("<td />").html(r[3])).append(e("<td />").html(n[2])).get(0)),++p);sortTable(curROrder),totPage=Math.ceil(p/RECORDS_PER_PAGE),curPage=curPage>=1?Math.min(curPage,totPage):1,e("#recTable").append(Rows.slice((curPage-1)*RECORDS_PER_PAGE,curPage*RECORDS_PER_PAGE)),e("#recTotal").html("统计："+(p?(curLocation||l.tag||l.search?"当前位置":"")+"共有 "+p+" 条记录":"怎么一道题都还没有啊，是你瞎编的算法么？")),pagination()},t.fastRedirect=function(t){let a,r,n;if(e.isNumeric(this.id)&&(a=parseInt(this.id)).toString()===this.id&&(n=t.split("\n").map(t=>t.replace(/[\f\r\v]/g,"").split("|")).filter(t=>5===t.length),0<a&&a<=n.length))return r=n[n.length-a][0],location.replace("records/"+encodeURIComponent(r)+".html"+location.hash);location.replace(getUri({}))},t.getTemplates=function(t){tmpArr=t.split("\n").map(t=>t.replace(/[\f\n\r\v]/g,"")).filter(Boolean),titleT={},n=[],tmpArr.forEach((t,a)=>e.ajax("templates/"+t+".xml",{type:"GET",dataType:"xml",id:a,success:p}))},t.parseMemos=function(t){let a,r=t.split("\n").map(t=>t.replace(/[\f\r\v]/g,"").split("|")).filter(t=>4===t.length);Rows=r.map((t,r,n)=>(a=t.concat((n.length-r).toString()),e("<tr />").append(e("<td />").html(a[4])).append(e("<td />").html(a[0])).append(e("<td />").append(e('<a href="memos/'+a[4]+'.html" target="_blank">链接</a>'))).append(e("<td />").html(a[1])).append(e("<td />").html(a[2])).data("priority",parseInt(a[3])).get(0))).sort((function(t,a){return e(a).data("priority")-e(t).data("priority")||+a.cells[0].innerText-+t.cells[0].innerText})),totPage=Math.ceil(r.length/MEMOS_PER_PAGE),curPage=curPage>=1?Math.min(curPage,totPage):1,e("#memTable").append(Rows.slice((curPage-1)*MEMOS_PER_PAGE,curPage*MEMOS_PER_PAGE)),e("#memTotal").html("统计: 共 "+r.length+" 份便笺"),pagination()},t.parseRanklist=function(t){let a;"OK"===t.status&&(Rows=t.result.map(t=>e("<tr />").append(e("<td />").append(e('<a class="user '+(r.hasOwnProperty(t.rank)?r[t.rank]:"gray")+'" href="http://codeforces.com/profile/'+t.handle+'" target="_blank">'+t.handle+"</a>"))).append(e("<td />").html(t.firstName)).append(e("<td />").html(t.lastName)).append(e("<td />").html(t.rating)).append(e("<td />").html(t.maxRating)).append(e("<td />").html(dateFormat(new Date(1e3*t.lastOnlineTimeSeconds)))).append(e("<td />").append((a=getFL(t.handle))&&e('<a href="'+a+'" target="_blank">'+a+"</a>"))).get(0)),e("#rankTable>tbody").empty().append(Rows))}}(window||this,jQuery);